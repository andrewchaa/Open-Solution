<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href="./bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <style>
      body {
        text-align: center;
      }
      #container {
        padding-top: 10px;
        padding-bottom: 10px;
      }
    </style>
  </head>
  <body>
    <div id="container" class="container">

      <div id="configDialog" class="modal fade" tabindex="-1" role="dialog">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h4 class="modal-title">Settings</h4>
            </div>
            <div class="modal-body">
              <textarea id="configSettings" class="form-control" rows="15">
                {
                  [{ "command": "open", "display": "GSA.ECM.Ultra.sln", "path": "C:\dev\gsa.ecm.ultra\src\GSA.ECM.Ultra.sln"}]
                }
              </textarea>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              <button type="button" id="saveChanges" class="btn btn-primary">Save changes</button>
            </div>
          </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
      </div><!-- /.modal -->

    </div><!-- /.modal -->
  </body>

  <script>
    window.$ = window.jQuery = require('./jquery-3.1.1.min.js')
    require('./bootstrap/js/bootstrap.min.js');
    const sendMessage = require('./sendMessage');

    $('#configDialog').modal();
    $('#saveChanges').click(function () {
      sendMessage('save-config', $('#configSettings').text());
    });
  </script>
</html>
